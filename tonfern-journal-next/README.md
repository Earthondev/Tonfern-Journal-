# ğŸ“– Tonfern Journal

à¸ªà¸¡à¸¸à¸”à¸šà¸±à¸™à¸—à¸¶à¸à¸”à¸´à¸ˆà¸´à¸—à¸±à¸¥à¸—à¸µà¹ˆà¸à¸¥à¸´à¸à¸«à¸™à¹‰à¸²à¹„à¸”à¹‰à¹€à¸«à¸¡à¸·à¸­à¸™à¸ˆà¸£à¸´à¸‡ â€” à¸•à¸à¹à¸•à¹ˆà¸‡à¹à¸šà¸š IG Story à¸”à¹‰à¸§à¸¢ Canvas Editor

![Next.js](https://img.shields.io/badge/Next.js-15-black?logo=next.js)
![TypeScript](https://img.shields.io/badge/TypeScript-strict-blue?logo=typescript)
![Tailwind CSS](https://img.shields.io/badge/Tailwind%20CSS-3-38bdf8?logo=tailwindcss)
![Firebase](https://img.shields.io/badge/Firebase-Realtime%20DB-orange?logo=firebase)

## âœ¨ Features

### ğŸ“• Public Reader
- **Page Flip** â€” à¸à¸¥à¸´à¸à¸«à¸™à¹‰à¸²à¸‹à¹‰à¸²à¸¢-à¸‚à¸§à¸²à¸”à¹‰à¸§à¸¢ keyboard (â† â†’), swipe, à¸«à¸£à¸·à¸­à¸à¸”à¸›à¸¸à¹ˆà¸¡
- **3D Animation** â€” à¹ƒà¸Šà¹‰ CSS `perspective` + `rotateY` à¹€à¸«à¸¡à¸·à¸­à¸™à¸ªà¸¡à¸¸à¸”à¸ˆà¸£à¸´à¸‡
- **Vintage Botanical Design** â€” à¸˜à¸µà¸¡à¸à¸£à¸°à¸”à¸²à¸©à¹€à¸à¹ˆà¸², à¸—à¸­à¸‡, à¸«à¸™à¸±à¸‡à¸ªà¸±à¸•à¸§à¹Œ

### ğŸ¨ IG Story-Style Editor (Admin)
- **Canvas Editor** â€” Fabric.js à¸‚à¸™à¸²à¸” 1080Ã—1350 (IG ratio 4:5)
- **Drawing Tool** â€” à¸§à¸²à¸”à¹€à¸ªà¹‰à¸™à¸­à¸´à¸ªà¸£à¸° à¹€à¸¥à¸·à¸­à¸à¸ªà¸µ/à¸‚à¸™à¸²à¸”à¸›à¸²à¸à¸à¸²
- **Text Tool** â€” à¹€à¸à¸´à¹ˆà¸¡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡ à¹€à¸¥à¸·à¸­à¸à¸Ÿà¸­à¸™à¸•à¹Œ (à¸¥à¸²à¸¢à¸¡à¸·à¸­/à¸™à¹ˆà¸²à¸£à¸±à¸/à¸—à¸²à¸‡à¸à¸²à¸£) + à¸ªà¸µ + à¸‚à¸™à¸²à¸”
- **Image Upload** â†’ Cloudinary â†’ à¸¥à¸²à¸/à¸«à¸¡à¸¸à¸™/à¸›à¸£à¸±à¸šà¸‚à¸™à¸²à¸”
- **Video Upload** â†’ Cloudinary â†’ placeholder + `<video>` overlay
- **GIF Search** â€” à¸„à¹‰à¸™à¸ˆà¸²à¸ Giphy API + à¹à¸›à¸°à¸¥à¸‡ canvas
- **Z-Index Controls** â€” à¸¢à¹‰à¸²à¸¢à¸§à¸±à¸•à¸–à¸¸à¸«à¸™à¹‰à¸²-à¸«à¸¥à¸±à¸‡
- **Mobile Bottom Toolbar** â€” toolbar à¸¢à¹‰à¸²à¸¢à¹„à¸›à¸”à¹‰à¸²à¸™à¸¥à¹ˆà¸²à¸‡à¸šà¸™à¸¡à¸·à¸­à¸–à¸·à¸­ (48px touch targets)

### ğŸ“¦ Media Pipeline
- **Auto-Optimize** â€” `f_auto,q_auto` à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸¸à¸ Cloudinary URL
- **Video Thumbnail** â€” à¸ªà¸£à¹‰à¸²à¸‡ poster image à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- **Video Overlay** â€” à¹€à¸¥à¹ˆà¸™à¸§à¸´à¸”à¸µà¹‚à¸­à¸—à¸±à¸š canvas à¸•à¸£à¸‡à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡

### ğŸ“± Mobile Polish
- **Responsive Canvas** â€” à¸¢à¹ˆà¸­ canvas à¹ƒà¸«à¹‰à¸à¸­à¸”à¸µà¸«à¸™à¹‰à¸²à¸ˆà¸­, save à¸—à¸µà¹ˆ 1080Ã—1350 à¹€à¸ªà¸¡à¸­
- **Bottom Sheet Toolbar** â€” à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­ fixed à¸”à¹‰à¸²à¸™à¸¥à¹ˆà¸²à¸‡ + expandable panel
- **Touch Gestures** â€” swipe à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸¥à¸´à¸à¸«à¸™à¹‰à¸²

## ğŸ›  Tech Stack

| Category | Technology |
|----------|-----------|
| Framework | Next.js 15 (App Router) |
| Language | TypeScript (strict) |
| Styling | Tailwind CSS |
| Auth & DB | Firebase (Auth + Realtime Database) |
| Media | Cloudinary (Image, Video, PDF) |
| Canvas | Fabric.js v6 |
| GIF | Giphy API |
| PDF | PDF.js |
| Fonts | Google Fonts (Playfair Display, Cormorant Garamond, Crimson Pro, Kanit, Kalam) |
| Deploy | Vercel |

## ğŸ“ Project Structure

```
tonfern-journal-next/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ globals.css       # Design system (Vintage Botanical theme)
â”‚   â”‚   â”œâ”€â”€ layout.tsx        # Root layout + typography
â”‚   â”‚   â”œâ”€â”€ page.tsx          # Public reader (page flip)
â”‚   â”‚   â”œâ”€â”€ login/            # Google OAuth login
â”‚   â”‚   â””â”€â”€ admin/
â”‚   â”‚       â”œâ”€â”€ pages/        # Page manager
â”‚   â”‚       â””â”€â”€ story/        # IG Story editor
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ StoryEditor.tsx   # Full-featured canvas editor
â”‚   â”‚   â”œâ”€â”€ StoryRenderer.tsx # Read-only renderer + video overlay
â”‚   â”‚   â”œâ”€â”€ FontPicker.tsx    # Font/size/color picker
â”‚   â”‚   â””â”€â”€ GiphyPicker.tsx   # GIF search modal
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ usePageFlip.ts    # Page flip logic + swipe + keyboard
â”‚   â”‚   â””â”€â”€ useJournalData.ts # Firebase data + timeout fallback
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ cloudinary.ts     # Upload + optimize + thumbnail
â”‚   â”‚   â”œâ”€â”€ firebase.ts       # Firebase config
â”‚   â”‚   â””â”€â”€ giphy.ts          # Giphy API wrapper
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ journal.ts        # TypeScript interfaces
â”œâ”€â”€ public/                   # Static assets
â”œâ”€â”€ tailwind.config.ts        # Design tokens (colors, fonts, animations)
â””â”€â”€ package.json
```

## âš™ï¸ Setup

### 1. Install

```bash
cd tonfern-journal-next
npm install
```

### 2. Environment Variables

à¸ªà¸£à¹‰à¸²à¸‡ `.env.local`:

```env
# Firebase
NEXT_PUBLIC_FIREBASE_API_KEY=...
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=...
NEXT_PUBLIC_FIREBASE_DATABASE_URL=...
NEXT_PUBLIC_FIREBASE_PROJECT_ID=...
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=...
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=...
NEXT_PUBLIC_FIREBASE_APP_ID=...

# Cloudinary
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=...
NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET=...

# Admin UIDs
NEXT_PUBLIC_FERN_UID=...
NEXT_PUBLIC_OWNER_UID=...

# Giphy (optional)
NEXT_PUBLIC_GIPHY_API_KEY=...
```

### 3. Run

```bash
npm run dev
```

à¹€à¸›à¸´à¸”à¸—à¸µà¹ˆ http://localhost:3000

## ğŸ¨ Design System

à¸˜à¸µà¸¡ **Vintage Botanical Journal**:

| Token | Value | Usage |
|-------|-------|-------|
| `--paper` | `#f5f0e8` | à¸à¸·à¹‰à¸™à¸«à¸¥à¸±à¸‡à¸«à¸™à¹‰à¸²à¸à¸£à¸°à¸”à¸²à¸© |
| `--ink` | `#2c3e2d` | à¸ªà¸µà¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¸«à¸¥à¸±à¸ |
| `--gold` | `#c9a55c` | accent, à¸‚à¸­à¸šà¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ |
| `--leather` | `#3e5c3a` | à¸›à¸à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ |
| `--rose-faded` | `#c4a08a` | à¹€à¸¥à¸‚à¸«à¸™à¹‰à¸², à¸ªà¹ˆà¸§à¸™à¸£à¸­à¸‡ |

Typography: Playfair Display (display), Crimson Pro (serif), Kanit (body), Kalam (handwriting)

## ğŸ“„ License

MIT

---

â­ à¸–à¹‰à¸²à¸Šà¸­à¸šà¹‚à¸›à¸£à¹€à¸ˆà¸„à¸™à¸µà¹‰ à¸à¸£à¸¸à¸“à¸²à¹ƒà¸«à¹‰ Star!
